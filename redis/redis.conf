# 绑定的IP地址
bind 0.0.0.0
 
# 监听端口（默认6379）
port 6379
 
# 是否以守护进程方式运行（默认no）
daemonize yes
 
# PID文件路径
pidfile /var/run/redis_6379.pid
 
# 日志级别（debug|verbose|notice|warning，默认notice）
loglevel notice
 
# 日志文件路径（设为stdout输出到控制台，默认空）
logfile stdout
 
# 数据库数量（0-15，默认16个）
databases 16
 
# 是否开启保护模式（默认yes，仅允许本地访问或密码访问）
protected-mode no
 
# 客户端最大连接数（默认10000，设为0表示无限制）
maxclients 0

# 最大内存限制（如2gb、512mb，默认0表示不限制，生产环境必须设置）
maxmemory 1gb

# 是否启用AOF持久化（默认no）
appendonly yes
 
# AOF文件名（默认appendonly.aof）
appendfilename "appendonly.aof"
 
# AOF同步策略（默认everysec）
# - always：每次写操作都同步到磁盘（最慢但最安全）
# - everysec：每秒同步一次（兼顾性能和安全性）
# - no：由操作系统决定何时同步（最快但可能丢失数据）
appendfsync everysec
 
# AOF重写期间是否暂停fsync（默认no，避免数据丢失）
no-appendfsync-on-rewrite no
 
# AOF文件自动重写的最小大小（默认64mb）
auto-aof-rewrite-min-size 64mb
 
# AOF文件自动重写的增长率（默认100%，即当前文件是上次重写后2倍时触发）
auto-aof-rewrite-percentage 100
 
# 加载AOF文件时是否忽略最后一条可能不完整的命令（默认yes）
aof-load-truncated yes
 
# AOF重写时是否使用RDB格式的前缀（减少文件体积，默认yes）
aof-use-rdb-preamble yes

# 设置访问密码（建议使用复杂密码，生产环境必须设置）
requirepass password123

# 客户端闲置超时时间（单位秒，默认0表示不超时）
timeout 0